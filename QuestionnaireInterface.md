# 问卷

问卷所需数据及接口

持续更新

## 供参考表结构

### 问卷表

 问卷id | 问卷名 | 可用性 | 总作答人数  
:------:|:------:|:------:|:----------:
1 | test 1 | 可用（1） | 18     
2 | test 2 | 不可用（0） | 13     

### 题目表

 问卷id | 题目id | 题目类型 | 题目 | 选项 | 选择人数 
 :-----:|:------:|:--------:|:----:|:----:|:--------:
 1 | 1 | 单选题（1） | 选择一个 | A | 10 
 1 | 1 | 单选题（1） | 选择一个 | B | 8 
 1 | 2 | 多选题（2） | 选择多个 | A | 10 
 1 | 2 | 多选题（2） | 选择多个 | B | 10 
 1 | 2 | 多选题（2） | 选择多个 | C | 8 
 1 | 3 | 问答题（3） | 回答问题 |  |  
 2 | 1 | 单选题（1） | 选择一个 | A | 10 
 2 | 1 | 单选题（1） | 选择一个 | B | 3 
 2 | 2 | 多选题（2） | 选择多个 | A | 10 
 2 | 2 | 多选题（2） | 选择多个 | B | 10 
 2 | 2 | 多选题（2） | 选择多个 | C | 3 
 2 | 3 | 问答题（3） | 回答问题 |  |   
 
### 作答表

问卷id | 题目id | 选项 | 回答内容 | 用户名 | 用户IP地址
:-----:|:------:|:----:|:--------:|:------:|:----------:
1 | 1 | A | |  user1 | 1.1.1.1
... | ... | | ... | ... | ... | ...
1 | 1 | A | | user10 | 1.1.1.10
1 | 1 | B | | user11 | 1.1.1.11
... | ... | ... |  ... | ... | ...
1 | 1 | B | | user18 | 1.1.1.18
1 | 2 | A | | user1 | 1.1.1.1
... | ... | ... | ... | ... | ...
1 | 2 | A | | user10 | 1.1.1.10
1 | 2 | B | | user1 | 1.1.1.1
... | ... | ... | ... | ... | ...
1 | 2 | B | | user10 | 1.1.1.10
1 | 2 | C | | user1 | 1.1.1.1
... | ... | ... | ... | ... | ...
1 | 2 | C | | user8 | 1.1.1.8
1 | 3 | | 这是我的问答 | user1 | 1.1.1.1
1 | 3 | | 这是你的问答 | user2 | 1.1.1.2
... | ... | ... | ... | ... | ...
1 | 3 | | 这是他的问答 | user18 | 1.1.1.18
2 | 1 | A | |  user1 | 1.1.1.1
... | ... | | ... | ... | ... | ...
2 | 1 | A | | user10 | 1.1.1.10
2 | 1 | B | | user11 | 1.1.1.11
... | ... | ... |  ... | ... | ...
2 | 1 | B | | user13 | 1.1.1.13
2 | 2 | A | | user1 | 1.1.1.1
... | ... | ... | ... | ... | ...
2 | 2 | A | | user10 | 1.1.1.10
2 | 2 | B | | user1 | 1.1.1.1
... | ... | ... | ... | ... | ...
2 | 2 | B | | user10 | 1.1.1.10
2 | 2 | C | | user1 | 1.1.1.1
... | ... | ... | ... | ... | ...
2 | 2 | C | | user3 | 1.1.1.3
2 | 3 | | 这是我的问答 | user1 | 1.1.1.1
2 | 3 | | 这是你的问答 | user2 | 1.1.1.2
... | ... | ... | ... | ... | ...
2 | 3 | | 这是他的问答 | user13 | 1.1.1.13
 
## 接口
 
### 查看所有问卷
可用性即问卷的开启和关闭使用。

    入参（）

    出参（问卷id，问卷名，可用性，总回答人数）
    
### 搜索问卷
通过问卷名模糊搜索。

    入参（问卷名的局部全部 q_name_part:string）
    
    出参（问卷id，问卷名，可用性，总回答人数）

### 根据问卷id找出所有题目
    入参（问卷id q_id:int）
    
    出参（题目id，题目类型，题目，选项）
    
### 提交作答结果
每成功执行一次此方法，对应题目的“总作答人数”+1。若是单选/多选题，则作答表添加一条记录且题目表中选项所对应的“选择人数”+1；若是问答题，则新添加一条记录。

    入参（问卷id q_id:int，题目id e_id:int，选项 e_sel:string，回答内容 e_con:string）
    
    出参（成功1/失败0）
    
### 创建/更新问卷
    入参（问卷id q_id:int，问卷名 q_name:string，可用性 q_ava:int，题目id e_id:int，题目类型 e_type:int，题目 e_tit:string，选项 e_sel:string）
    
    出参（成功1/失败0）
    
### 删除问卷
    入参（问卷id q_id:int）
    
    出参（成功1/失败0）
